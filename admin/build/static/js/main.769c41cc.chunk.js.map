{"version":3,"sources":["assets/logo-dark.svg","services/api.js","pages/LoginPage.js","pages/CreateIssuePage.js","components/NavbarComponent.js","assets/no_data.svg","pages/ListContatos.js","routes.js","App.js","index.js"],"names":["api","axios","create","baseURL","LoginPage","history","useHistory","useState","email","setEmail","password","setPassword","remember","setRemember","error","setError","event","a","preventDefault","get","params","result","data","success","JSON","stringify","usuario","validade","loginDate","Date","now","localStorage","setItem","push","id","className","src","logo","alt","width","onSubmit","e","handleOnSubmit","type","value","onChange","target","htmlFor","to","CreateIssuePage","NavbarComponent","load","setLoad","currentUser","setCurrentUser","parse","getItem","alert","clear","useEffect","validateLogin","name","activeClassName","exact","ListContatos","contatos","setContatos","loadContatos","length","noData","map","contato","index","tipoContato","nome","celular","mensagem","created_at","toLocaleDateString","feitoContato","Routes","path","component","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.769c41cc.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo-dark.301dd4f7.svg\";","import axios from 'axios';\r\n\r\nconst api = axios.create({\r\n    //baseURL: 'http://localhost:3333',\r\n    baseURL: 'https://agenciaperform.com.br',\r\n});\r\n\r\nexport default api;","import React, { useState } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport '../styles/pages/login-page.css';\r\n\r\nimport logo from '../assets/logo-dark.svg';\r\nimport api from \"../services/api\";\r\n\r\nfunction LoginPage() {\r\n    const history = useHistory();\r\n    const [email, setEmail] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [remember, setRemember] = useState(false);\r\n    const [error, setError] = useState(\"\");\r\n\r\n    async function handleOnSubmit(event) {\r\n        event.preventDefault();\r\n        if ((email === \"\") || (password === \"\")) {\r\n            setError(\"Opa, faltou alguma informação!\");\r\n            return;\r\n        }\r\n        let result;\r\n        \r\n        try {\r\n            result = await api.get(\"/api/v1/login\", {\r\n                params: {\r\n                    email,\r\n                    password\r\n                }\r\n            });\r\n        } catch (error) {\r\n            setError(\"Houve um problema ao comunicar com o servidor, tente mais tarde!\");\r\n            return;\r\n        }\r\n\r\n        if (result.data.success) {\r\n            if (remember) {\r\n                const data = JSON.stringify({\r\n                    email,\r\n                    password: result.data.usuario[0].password,\r\n                    validade: 7,\r\n                    loginDate: Date.now()\r\n                })\r\n                localStorage.setItem(\"login\", data);\r\n            } else {\r\n                const data = JSON.stringify({\r\n                    email,\r\n                    password: result.data.usuario[0].password,\r\n                    validade: 1,\r\n                    loginDate: Date.now()\r\n                })\r\n                localStorage.setItem(\"login\", data);\r\n\r\n            }\r\n            history.push(\"/admin/contatos\");\r\n        } else {\r\n            setError(\"Usuario ou senha inválidos!\");\r\n            return;\r\n        }\r\n\r\n\r\n    }\r\n    return (\r\n        <div id=\"login-page\">\r\n            <div className=\"image-container\">\r\n\r\n            </div>\r\n            <div className=\"login-form\">\r\n                <img src={logo} alt=\"Perform\" width=\"270\" />\r\n                <h1>Bem vindo novamente</h1>\r\n                <p>Entre para continuar usando o sistema</p>\r\n                <form onSubmit={(e)=>{\r\n                    handleOnSubmit(e)\r\n                }}>\r\n                    <div className=\"error\">\r\n                        {error}Erro\r\n                    </div>\r\n                    <div className=\"input-container\">\r\n                        <input id=\"email\" type=\"text\"\r\n                            value={email} onChange={(e) => {setEmail(e.target.value)}} />\r\n                        <label htmlFor=\"email\">Email</label>\r\n                    </div>\r\n                    <div className=\"input-container\">\r\n                        <input id=\"password\" type=\"password\" \r\n                            value={password} onChange={(e) => {setPassword(e.target.value)}} />\r\n                        <label htmlFor=\"password\">Senha</label>\r\n                    </div>\r\n                    <div className=\"input-group\">\r\n                        <div className=\"remember\">\r\n                            <input id=\"check\" type=\"checkbox\"\r\n                                value={remember} onChange={(e) => {setRemember(e.target.value)}} />\r\n                            <label htmlFor=\"check\">Manter conectado</label>\r\n                        </div>\r\n                        <Link to=\"/admin/login\">Esquecceu sua senha?</Link>\r\n                    </div>\r\n                    <button className=\"login-btn\" type=\"submit\">Login</button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default LoginPage;","import React from \"react\";\r\n\r\nfunction CreateIssuePage() {\r\n    return (\r\n        <div>\r\n            Criar issue\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default CreateIssuePage;","import React, { useEffect, useState } from 'react';\r\nimport { NavLink, useHistory } from 'react-router-dom';\r\n\r\nimport '../styles/components/navbar-component.css';\r\n\r\nimport logo from '../assets/logo-dark.svg';\r\nimport api from '../services/api';\r\n\r\nfunction NavbarComponent() {\r\n    const history = useHistory()\r\n    const [load, setLoad] = useState(true);\r\n    const [currentUser, setCurrentUser] = useState([]);\r\n\r\n    async function validateLogin(){\r\n        const data = JSON.parse(localStorage.getItem(\"login\"));\r\n\r\n        // valida login\r\n        let result;\r\n        try {\r\n            result = await api.get(\"/api/v1/loginValidate\", {\r\n                params: {\r\n                    email: data.email,\r\n                    password: data.password\r\n                }\r\n            });\r\n            \r\n        } catch (error) {\r\n            alert(\"Sua sessão expirou!\");\r\n            localStorage.clear();\r\n            history.push(\"/admin\");\r\n            return;\r\n        }\r\n        \r\n        \r\n        if((data.loginDate - Date.now) > (data.validade * 86400000 )){            \r\n            alert(\"Sua sessão expirou!\");\r\n            localStorage.clear();\r\n            history.push(\"/admin\");\r\n            return;\r\n        }\r\n        \r\n        setCurrentUser(result.data);\r\n        setLoad(false);\r\n        return;\r\n    }\r\n\r\n    useEffect(() => {\r\n        validateLogin();\r\n    }, [])\r\n\r\n    if(!load){\r\n        return (\r\n            <ul id=\"navbar-component\">\r\n                <li className=\"navbrand\">                \r\n                    <img src={logo} alt=\"Perform\" />\r\n                </li>\r\n                <li>                \r\n                    <div className=\"text\">\r\n                        Olá, {currentUser[0].name}\r\n                    </div>\r\n                </li>\r\n                <li>\r\n                    <NavLink activeClassName=\"active\" to=\"/admin/contatos\" exact>Contatos</NavLink>\r\n                </li>\r\n                <li>\r\n                    <NavLink to=\"/admin\" exact>Sair</NavLink>\r\n                </li>\r\n            </ul>\r\n        )\r\n    }else{\r\n        return (<h1>Carregando....</h1>)\r\n    }\r\n    \r\n}\r\n\r\nexport default NavbarComponent;","export default __webpack_public_path__ + \"static/media/no_data.f5151bd1.svg\";","import React, { useEffect, useState } from 'react';\r\nimport NavbarComponent from '../components/NavbarComponent';\r\n\r\nimport '../styles/pages/list-contatos.css'\r\nimport { FaTrash, FaEdit } from 'react-icons/fa';\r\n\r\nimport noData from '../assets/no_data.svg'\r\nimport api from '../services/api';\r\n\r\nfunction ListContatos() {\r\n    const [contatos, setContatos] = useState([]);\r\n\r\n    async function loadContatos() {\r\n        const result = await api.get(\"/api/v1/contatos\");\r\n        setContatos(result.data);\r\n\r\n    }\r\n    useEffect(() => {\r\n        loadContatos();\r\n    })\r\n    return (\r\n        <>\r\n            <NavbarComponent />\r\n            {\r\n                contatos.length === 0\r\n                    ? (\r\n                        <div id=\"contatos-page\">\r\n                            <div className=\"container\">\r\n                                <img src={noData} alt=\"NotFound\" />\r\n                                <h2>Não foram registrados nenhum contato até o momento</h2>\r\n                            </div>\r\n                        </div>\r\n                    )\r\n                    : (\r\n                        <div id=\"contatos-page\">\r\n                            <table>\r\n                                <thead className=\"table-head\">\r\n                                    <th>Tipo de Contato</th>\r\n                                    <th>Dados</th>\r\n                                    <th>Data do contato</th>\r\n                                    <th>Retorno do contato</th>\r\n                                    {/* <th>Ações</th> */}\r\n                                </thead>\r\n                                <tbody>\r\n                                    {contatos.map((contato, index) => {\r\n                                        return (\r\n                                            <tr key=\"index\" className=\"table-row\">\r\n                                                <td>{contato.tipoContato}</td>\r\n                                                <td className=\"data\">\r\n                                                    <p>{contato.nome}</p>\r\n                                                    <div className=\"row-data\">\r\n                                                        <p>{contato.email}</p>\r\n                                                        <p>{contato.celular}</p>\r\n                                                    </div>\r\n                                                    <div className=\"row-data\">\r\n                                                        <p>{contato.mensagem}</p>\r\n                                                    </div>\r\n                                                </td>\r\n                                                <td>{new Date(contato.created_at).toLocaleDateString()}</td>\r\n                                                <td>\r\n                                                    {\r\n                                                        contato.feitoContato ? <div className=\"boolean-data-true\"></div> : <div className=\"boolean-data-false\"></div>\r\n                                                    }\r\n                                                </td>\r\n                                                {/* <td className=\"actions\">\r\n                                                    <button><FaTrash size={24} color=\"#ff4141\" /></button>\r\n                                                    <button><FaEdit size={24} color=\"#0c961e\" /></button>\r\n                                                </td> */}\r\n                                            </tr>\r\n                                        )\r\n                                    })}\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n\r\n                    )\r\n            }\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ListContatos;","import React from 'react';\r\nimport { BrowserRouter, Switch, Route } from 'react-router-dom';\r\nimport LoginPage from './pages/LoginPage';\r\nimport CreateIssuePage from './pages/CreateIssuePage';\r\nimport ListContatos from './pages/ListContatos';\r\n\r\nfunction Routes() {\r\n    return (\r\n        <BrowserRouter>\r\n            <Switch>\r\n                <Route path=\"/admin\" exact component={LoginPage} />\r\n                <Route path=\"/admin/contatos\" exact component={ListContatos} />\r\n                <Route path=\"/admin/create-issue\" exact component={CreateIssuePage} />\r\n            </Switch>\r\n        </BrowserRouter>\r\n    );\r\n}\r\n\r\nexport default Routes;","import React from 'react';\n\nimport Routes from './routes';\n\nimport './styles/global.css';\n\nfunction App() {\n  return (    \n    <Routes />\n  );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}